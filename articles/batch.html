<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Batch Processing • papercheck</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Batch Processing">
<!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-160147578-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-160147578-1');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">papercheck</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9028</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/papercheck.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/scienceverse/papercheck/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<link href="batch_files/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="batch_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="batch_files/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="batch_files/datatables-binding-0.33/datatables.js"></script><link href="batch_files/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="batch_files/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="batch_files/dt-core-1.13.6/js/jquery.dataTables.min.js"></script><link href="batch_files/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="batch_files/crosstalk-1.2.1/js/crosstalk.min.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Batch Processing</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/scienceverse/papercheck/blob/master/vignettes/batch.Rmd" class="external-link"><code>vignettes/batch.Rmd</code></a></small>
      <div class="d-none name"><code>batch.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/scienceverse/papercheck" class="external-link">papercheck</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span> <span class="co"># for data wrangling</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://readr.tidyverse.org" class="external-link">readr</a></span><span class="op">)</span> <span class="co"># reading and writing CSV files</span></span></code></pre></div>
<p>In this vignette, we will process 250 open access papers from
Psychological Science.</p>
<div class="section level2">
<h2 id="convert-pdfs">Convert PDFs<a class="anchor" aria-label="anchor" href="#convert-pdfs"></a>
</h2>
<p>Read in all of the PDF files from a directory called “pdf”, process
them with a local version of grobid, and save the XML files in a
directory called “xml”.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/pdf2grobid.html">pdf2grobid</a></span><span class="op">(</span>filename <span class="op">=</span> <span class="st">"pdf"</span>, </span>
<span>           save_path <span class="op">=</span> <span class="st">"xml"</span>, </span>
<span>           grobid_url <span class="op">=</span> <span class="st">"http://localhost:8070"</span><span class="op">)</span></span></code></pre></div>
<p>Then read in the XML files to papercheck and save in an object called
<code>papers</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">papers</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_grobid.html">read_grobid</a></span><span class="op">(</span><span class="st">"xml"</span><span class="op">)</span></span></code></pre></div>
<p>These steps can take some time if you are processing a lot of papers,
and only needs to happen once, so it is often useful to save the
<code>papers</code> object as an Rds file, comment out the code above,
and load <code>papers</code> from this object on future runs of your
script.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># load from RDS for efficiency</span></span>
<span><span class="co"># saveRDS(papers, "psysci_oa.Rds")</span></span>
<span><span class="va">papers</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span><span class="st">"psysci_oa.Rds"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="paper-objects">Paper Objects<a class="anchor" aria-label="anchor" href="#paper-objects"></a>
</h2>
<p>Now <code>papers</code> is a list of papercheck paper objects, each
of which contains structured information about the paper.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">paper</span> <span class="op">&lt;-</span> <span class="va">papers</span><span class="op">[[</span><span class="fl">10</span><span class="op">]</span><span class="op">]</span></span></code></pre></div>
<div class="section level3">
<h3 id="id">ID<a class="anchor" aria-label="anchor" href="#id"></a>
</h3>
<p>The <code>id</code> is taken from the name of the xml file.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">paper</span><span class="op">$</span><span class="va">id</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; [1] "0956797615588467"</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="authors">Authors<a class="anchor" aria-label="anchor" href="#authors"></a>
</h3>
<p>The <code>authors</code> list contains a list of information for each
author. For now, CRediT roles are not detected, but this may be added in
the future.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">paper</span><span class="op">$</span><span class="va">authors</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; List of 2</span></span>
<span><span class="co">#&gt;  $ :List of 4</span></span>
<span><span class="co">#&gt;   ..$ orcid: NULL</span></span>
<span><span class="co">#&gt;   ..$ name :List of 2</span></span>
<span><span class="co">#&gt;   .. ..$ surname: chr "Genevsky"</span></span>
<span><span class="co">#&gt;   .. ..$ given  : chr "Alexander"</span></span>
<span><span class="co">#&gt;   ..$ roles: NULL</span></span>
<span><span class="co">#&gt;   ..$ email: chr "genevsky@stanford.edu"</span></span>
<span><span class="co">#&gt;   ..- attr(*, "class")= chr [1:2] "scivrs_author" "list"</span></span>
<span><span class="co">#&gt;  $ :List of 4</span></span>
<span><span class="co">#&gt;   ..$ orcid: NULL</span></span>
<span><span class="co">#&gt;   ..$ name :List of 2</span></span>
<span><span class="co">#&gt;   .. ..$ surname: chr "Knutson"</span></span>
<span><span class="co">#&gt;   .. ..$ given  : chr "Brian"</span></span>
<span><span class="co">#&gt;   ..$ roles: NULL</span></span>
<span><span class="co">#&gt;   ..$ email: chr ""</span></span>
<span><span class="co">#&gt;   ..- attr(*, "class")= chr [1:2] "scivrs_author" "list"</span></span>
<span><span class="co">#&gt;  - attr(*, "class")= chr [1:2] "scivrs_authors" "list"</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="info">Info<a class="anchor" aria-label="anchor" href="#info"></a>
</h3>
<p>The <code>info</code> item lists the filename, title, description
(abstract), keywords, doi, and submission info. Grobid sometimes makes
mistakes with the DOI, so be cautious about using this.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">paper</span><span class="op">$</span><span class="va">info</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; $filename</span></span>
<span><span class="co">#&gt; [1] "vignettes/xml/0956797615588467.xml"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $title</span></span>
<span><span class="co">#&gt; [1] "Affective Mechanisms Predict Microlending"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $description</span></span>
<span><span class="co">#&gt; [1] "Humans sometimes share with others whom they may never meet or know, in violation of the dictates of pure selfinterest. Research has not established which neuropsychological mechanisms support lending decisions, nor whether their influence extends to markets involving significant financial incentives. In two studies, we found that neural affective mechanisms influence the success of requests for microloans. In a large Internet database of microloan requests (N = 13,500), we found that positive affective features of photographs promoted the success of those requests. We then established that neural activity (i.e., in the nucleus accumbens) and self-reported positive arousal in a neuroimaging sample (N = 28) predicted the success of loan requests on the Internet, above and beyond the effects of the neuroimaging sample's own choices (i.e., to lend or not). These findings suggest that elicitation of positive arousal can promote the success of loan requests, both in the laboratory and on the Internet. They also highlight affective neuroscience's potential to probe neuropsychological mechanisms that drive microlending, enhance the effectiveness of loan requests, and forecast market-level behavior."</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $keywords</span></span>
<span><span class="co">#&gt; [1] "affect"       "accumbens"    "microlending" "preference"   "fMRI"        </span></span>
<span><span class="co">#&gt; [6] "prosocial"    "human"       </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $doi</span></span>
<span><span class="co">#&gt; [1] "10.1177/0956797615588467pss.sagepub."</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $submission</span></span>
<span><span class="co">#&gt; [1] "Received 2/2/15; Revision accepted 5/4/15"</span></span></code></pre>
<p>You can get this as a table for a batch of papers using
<code><a href="../reference/info_table.html">info_table()</a></code>.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/info_table.html">info_table</a></span><span class="op">(</span><span class="va">papers</span>, info <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"doi"</span>, <span class="st">"title"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 3</span></span></span>
<span><span class="co">#&gt;   id               doi                                  title                   </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 0956797613520608 10.1177/0956797613520608pss.sagepub. Continuous Theta-Burst …</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 0956797614522816 10.1177/0956797614522816pss.sagepub. Beyond Gist: Strategic …</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 0956797614527830 10.1177/0956797614527830pss.sagepub. Serotonin and Social No…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 0956797614557697 10.1177/0956797614557697pss.sagepub. Action-Specific Disrupt…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 0956797614560771 10.1177/0956797614560771pss.sagepub. Emotional Vocalizations…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 0956797614566469 10.1177/0956797614566469pss.sagepub. Conspiracist Ideation a…</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h3>
<p>The <code>references</code> contains the items in the reference list,
including an id to link them to citations (bib_id), the DOI if available
(doi), and the full reference text (ref).</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ref</span> <span class="op">&lt;-</span> <span class="va">paper</span><span class="op">$</span><span class="va">references</span></span>
<span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">ref</span>, <span class="va">bib_id</span> <span class="op">==</span> <span class="st">"b5"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;   bib_id                        doi</span></span>
<span><span class="co">#&gt; 1     b5 10.1016/j.jcps.2011.05.001</span></span>
<span><span class="co">#&gt;                                                                                                                           ref</span></span>
<span><span class="co">#&gt; 1 A neural predictor of cultural popularity GSBerns SEMoore 10.1016/j.jcps.2011.05.001 Journal of Consumer Psychology 22 2012</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="citations">Citations<a class="anchor" aria-label="anchor" href="#citations"></a>
</h3>
<p>The <code>citations</code> contains each citation, including an id to
link them to references (bib_id) and the sentence that they are cited in
(text).</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cite</span> <span class="op">&lt;-</span> <span class="va">paper</span><span class="op">$</span><span class="va">citations</span></span>
<span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">cite</span>, <span class="va">bib_id</span> <span class="op">==</span> <span class="st">"b5"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;   bib_id</span></span>
<span><span class="co">#&gt; 1     b5</span></span>
<span><span class="co">#&gt; 2     b5</span></span>
<span><span class="co">#&gt; 3     b5</span></span>
<span><span class="co">#&gt;                                                                                                                                                                                                                                                                                                                  text</span></span>
<span><span class="co">#&gt; 1                                                                                                                                 Stimulus sample size was determined via power analysis of the sole existing similar study, which used neural activity to predict Internet downloads of music (Berns &amp; Moore, 2012).</span></span>
<span><span class="co">#&gt; 2                                                       Following the approach of Berns and Moore (2012), we calculated correlations between Internet loan-request success and anticipatory activity in regions drawn from targeted volumes of interest (i.e., NAcc, AIns, and MPFC) as well as whole-brain analyses.</span></span>
<span><span class="co">#&gt; 3 For instance, investigators have used group NAcc activity in response to music to predict the aggregate number of song downloads 2 years later (Berns &amp; Moore, 2012) and have used group MPFC activity to predict call volume in response to antismoking advertisements (Falk, Berkman, Whalen, &amp; Lieberman, 2011).</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="full-text">Full Text<a class="anchor" aria-label="anchor" href="#full-text"></a>
</h3>
<p>The <code>full_text</code> item is a table containing each sentence
from the main text (<code>text</code>). The heading text
(<code>header</code>) is used to automatically determine if the
<code>section</code> is abstract, intro, method, results, or discussion.
Each section has a unique sequential <code>div</code> number, and each
paragraph (<code>p</code>) within the section and eeach sentence
(<code>s</code>) within each paragraph are also sequentially numbered
(e.g., div = 1, p = 2, s = 3 is the third sentence of the second
paragraph of the first section after the abstract).</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">paper</span><span class="op">$</span><span class="va">full_text</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; [1] "text"    "section" "header"  "div"     "p"       "s"       "id"</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="text-search">Text Search<a class="anchor" aria-label="anchor" href="#text-search"></a>
</h2>
<p>The <code><a href="../reference/search_text.html">search_text()</a></code> function helps you search the text of
a paper or list of papers.</p>
<p>The default arguments give you a data frame containing a row for
every sentence in every paper in the set. The data frame has the same
column structure as the <code>full_text</code> table above, so that you
can easily chain text searches.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">all_sentences</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/search_text.html">search_text</a></span><span class="op">(</span><span class="va">papers</span><span class="op">)</span></span></code></pre></div>
<div class="datatables html-widget html-fill-item" id="htmlwidget-ac96cb3ee4656e2e9ec3" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ac96cb3ee4656e2e9ec3">{"x":{"filter":"none","vertical":false,"data":[["09567976241245695","0956797618804501","09567976211048485","0956797620959014","09567976231218640","0956797619835147","0956797620970548","0956797619851753","0956797616665351","09567976231173900"],["Creativity as strategic foraging predicts a systematic and targeted relation between spatial search and subsequent creativity: Participants who searched through space in a dispersed way should perform relatively better on subsequent tests of divergent thinking, whereas those who searched for a single target should perform better on subsequent tests of convergent thinking.","We note that the addition of auto-proportional effects respecified static linear changes in cognitive performance and depressive symptoms as nonlinear or exponential changes.","Miss rates on trials in which a perfect T was present were analyzed with a 2 (search condition: present/ absent or similarity; between subjects) × 2 (target prevalence: 10% or 50%; within subjects) mixed-factors analysis of variance.","If true, this might be because of a so-called sensitive period in early childhood.","If this reasoning was correct, the different results between the two reports should be attributable to the greater memorability of less standardized images employed by Ackerman et al., compared with images from databases in which photos are taken under controlled conditions and standardized instructions to models employed by Gwinn and colleagues.","In addition, happiness has been associated with helping behavior (O'Malley &amp; Andrews, 1983).","On the test day, frozen sweat pads were removed from the freezer (-80° C) approximately 45 min prior to olfactometer delivery in the scanner.","RPQ sum scores, log-transformed testosterone levels, and log-transformed cortisol levels were standardized within each gender group and added as gender-specific and condition-specific covariates, yielding 24 extra regressors.","As sensory evidence becomes less reliable, the likelihood distribution spreads out, which shifts the posterior distribution toward the prior and lowers the speed estimate.","This is because fundamental principles of penal justice suggest that punishments should vary only with regard to the \"moral gravity\" of the alleged wrongdoing, and morally similar cases should be treated alike, regardless of other 1173900P SSXXX10."]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>id<\/th>\n      <th>text<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"dom":"tip","columnDefs":[{"name":"id","targets":0},{"name":"text","targets":1}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script><p>You can customise <code><a href="../reference/search_text.html">search_text()</a></code> to return paragraphs or
sections instead of sentences. The <code>section</code> column contains
the automatically classified section types from the options “abstract”,
“intro”, “methods”, “results”, or “discussion” (this can be inaccurate
if grobid doesn’t detect headers or the header text doesn’t obviously
fall in one of these categories).</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">method_paragraphs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/search_text.html">search_text</a></span><span class="op">(</span><span class="va">papers</span>, section <span class="op">=</span> <span class="st">"method"</span>, return <span class="op">=</span> <span class="st">"paragraph"</span><span class="op">)</span></span></code></pre></div>
<p>A random paragraph from a method section.</p>
<pre><code><span><span class="co">#&gt; [1] "SES. Family SES was assessed by measures at first contact when the TEDS twins were 18 months and when they were 7, 9, and 16 years old. At first contact (SES Index 1), age 7 (SES Index 2), and age 16 (SES Index 4), parents reported their highest educational qualifications and occupation. Educational qualifications were assessed on an 8-point scale from 1 (no formal education) to 8 (postgraduate qualifications). Occupation was inferred on the basis of a standard classification (Office of Population and Census Surveys, 1991) that used reports of employment status, job title, employment type, and whether parents needed special qualifications for their role. At 9 years (SES Index 3) and 16 years, family income was assessed; parents reported their annual household income before tax on an 11-point scale from 1 (under £4,500) to 11 (more than £100,000). For SES Indexes 1 through 3, standardized mean scores were calculated and averaged at each assessment age. Previous analyses of these data showed that correlations (r) between these estimates were .77 for SES Index 1 and 2, .55 for SES Indexes 1 and 3, and .57 for SES Indexes 2 and 3 (Hanscombe et al., 2012). Correlations with SES Index 4 have not been previously reported and were .70 with SES Index 1, .76 with SES Index 2, and .65 with SES Index 6 in the current analysis sample. We summed the four indexes to achieve one SES composite score for each participant."</span></span></code></pre>
<div class="section level3">
<h3 id="pattern">Pattern<a class="anchor" aria-label="anchor" href="#pattern"></a>
</h3>
<p>You can just code every sentence or paragraph in a set of papers, but
this is usually not very efficient, so we can use a search pattern to
filter the text.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">search</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/search_text.html">search_text</a></span><span class="op">(</span><span class="va">papers</span>, pattern <span class="op">=</span> <span class="st">"Scotland"</span><span class="op">)</span></span></code></pre></div>
<p>Here we have 4 results. We’ll just show the paper id and text columns
of the returned table, but the table also provides the section type,
header, and section, paragraph, and sentence numbers (div, p, and
s).</p>
<div class="datatables html-widget html-fill-item" id="htmlwidget-e5c8c404fe174e4c81bd" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-e5c8c404fe174e4c81bd">{"x":{"filter":"none","vertical":false,"data":[["0956797615615584","0956797619833325","09567976231172500","09567976241243370"],["The two surveys used identical sampling and interview methods and were administered to nationally representative samples of people who were older than 16 years and resided in England, Scotland, or Wales.","To start, we tested whether neuroticism's bifactor structure replicated in two independent data sets: 8,158 participants in Generation Scotland (Smith et al., 2006) and the 1,434 participants used to develop the EPQ-R (Eysenck et al., 1985).","For one, historian David Hackett Fischer (1991) argued that Scotland's history of frequent warfare led to a short-term cultural orientation, such as not wanting to invest in building more costly houses.","Our study focused only on survey participants living in England, because of the lack of contextual-level information for the Wales, Scotland, and Northern Ireland subsamples."]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>id<\/th>\n      <th>text<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"dom":"tip","columnDefs":[{"name":"id","targets":0},{"name":"text","targets":1}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level3">
<h3 id="chaining">Chaining<a class="anchor" aria-label="anchor" href="#chaining"></a>
</h3>
<p>You can chain together searches to iteratively narrow down
results.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">search</span> <span class="op">&lt;-</span> <span class="va">papers</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/search_text.html">search_text</a></span><span class="op">(</span><span class="st">"DeBruine"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/search_text.html">search_text</a></span><span class="op">(</span><span class="st">"2006"</span><span class="op">)</span></span></code></pre></div>
<div class="datatables html-widget html-fill-item" id="htmlwidget-36aa3d2a04d42bbc2145" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-36aa3d2a04d42bbc2145">{"x":{"filter":"none","vertical":false,"data":[["0956797618760197","0956797618760197"],["Responses to stimuli manufactured using these methods predict women's actual partner choices (DeBruine et al., 2006).","They have also been shown to be very similar to responses to stimuli manufactured using other methods for manipulating sexually dimorphic characteristics in face images (DeBruine et al., 2006)."]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>id<\/th>\n      <th>text<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"dom":"tip","columnDefs":[{"name":"id","targets":0},{"name":"text","targets":1}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level3">
<h3 id="regex">Regex<a class="anchor" aria-label="anchor" href="#regex"></a>
</h3>
<p>You can also use regular expressions to refine your search. The
pattern below returns every sentence that contains either “Scotland” or
“Scottish”.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">search</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/search_text.html">search_text</a></span><span class="op">(</span><span class="va">papers</span>, pattern <span class="op">=</span> <span class="st">"(Scotland|Scottish)"</span><span class="op">)</span></span></code></pre></div>
<div class="datatables html-widget html-fill-item" id="htmlwidget-febe03efa1a2d8d52a86" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-febe03efa1a2d8d52a86">{"x":{"filter":"none","vertical":false,"data":[["0956797615615584","0956797618804501","0956797619833325","09567976231172500","09567976241243370","09567976241243370"],["The two surveys used identical sampling and interview methods and were administered to nationally representative samples of people who were older than 16 years and resided in England, Scotland, or Wales.","Data for the analyses came from the Lothian Birth Cohort 1936 (LBC1936) study, which is an ongoing follow-up study of some surviving members of the Scottish Mental Survey 1947 (Scottish Council for Research in Education, 1949).","To start, we tested whether neuroticism's bifactor structure replicated in two independent data sets: 8,158 participants in Generation Scotland (Smith et al., 2006) and the 1,434 participants used to develop the EPQ-R (Eysenck et al., 1985).","For one, historian David Hackett Fischer (1991) argued that Scotland's history of frequent warfare led to a short-term cultural orientation, such as not wanting to invest in building more costly houses.","Our study focused only on survey participants living in England, because of the lack of contextual-level information for the Wales, Scotland, and Northern Ireland subsamples.","Individuals were grouped as White if their reported ethnicity was among White British/English/Scottish/Welsh/Northern Irish/ Gypsy or Irish traveler/other White background."]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>id<\/th>\n      <th>text<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"dom":"tip","columnDefs":[{"name":"id","targets":0},{"name":"text","targets":1}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level3">
<h3 id="match">Match<a class="anchor" aria-label="anchor" href="#match"></a>
</h3>
<p>You can return just the matching text for a regular expression by
setting the results to “match”. This pattern searches for text like “p
&lt; .25” or p&lt;0.01”.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">match</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/search_text.html">search_text</a></span><span class="op">(</span><span class="va">papers</span>, </span>
<span>                     pattern <span class="op">=</span> <span class="st">"p\\s*&gt;\\s*0?\\.[0-9]+\\b"</span>, </span>
<span>                     return <span class="op">=</span> <span class="st">"match"</span><span class="op">)</span></span></code></pre></div>
<div class="datatables html-widget html-fill-item" id="htmlwidget-1fb4450895fe099f74a1" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-1fb4450895fe099f74a1">{"x":{"filter":"none","vertical":false,"data":[["0956797614557697","0956797615615584","0956797615615584","0956797616634654","0956797616634665","0956797616657319","0956797616661199","0956797616667447","0956797616667447","0956797616667447","0956797616667447","0956797617692000","0956797617692000","0956797617692000","0956797617692000","0956797617692000","0956797617693326","0956797617693326","0956797617693326","0956797617693326","0956797617705667","0956797617705667","0956797617716922","0956797617744542","0956797619830326","0956797619830326","0956797619830329","0956797619881134","0956797620929297","0956797620929297","0956797620929297","0956797620929297","0956797620939054","0956797620954815","0956797620954815","0956797620959014","0956797620965520","09567976211018618","09567976221079633","09567976231156413","09567976231156413","09567976231156413","09567976231156413","09567976231156413","09567976231156413","09567976231156413","09567976231156413","09567976231156413","09567976231179378","09567976231179378","09567976231179378","09567976231179378","09567976231179378","09567976231180881","09567976231192241","09567976231192241","09567976231192241","09567976231192241","09567976241263344"],["p &gt; .29","p &gt; .250","p &gt; .250","p &gt; .23","p &gt; .250","p &gt; .250","p &gt; .250","p &gt; .250","p &gt; .250","p &gt; .250","p &gt; .250","p &gt; .25","p &gt; .25","p &gt; .25","p &gt; .25","p &gt; .25","p &gt; .25","p &gt; .25","p &gt; .25","p &gt; .25","p &gt; .250","p &gt; .250","p &gt; .250","p &gt; .01","p &gt; .05","p &gt; .05","p &gt; .05","p &gt; .05","p &gt; .05","p &gt; .05","p &gt; .05","p &gt; .05","p &gt; .15","p &gt; .11","p &gt; .6","p &gt; .14","p &gt; .352","p &gt; .999","p &gt; .05","p &gt; .25","p &gt; .15","p &gt; .3","p &gt; .27","p &gt; .12","p &gt; .15","p &gt; .08","p &gt; .1","p &gt; .110","p &gt; .059","p &gt; .33","p &gt; .290","p &gt; .265","p &gt; .103","p &gt; .05","p &gt; .80","p &gt; .28","p &gt; .60","p &gt; .13","p &gt; .05"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>id<\/th>\n      <th>text<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"dom":"tip","columnDefs":[{"name":"id","targets":0},{"name":"text","targets":1}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script><p>You can expand this to the whole sentence, paragraph, or +/- some
number of sentences around the match using
<code><a href="../reference/expand_text.html">expand_text()</a></code>.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">expand</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/expand_text.html">expand_text</a></span><span class="op">(</span>results_table <span class="op">=</span> <span class="va">match</span>, </span>
<span>                      paper <span class="op">=</span> <span class="va">papers</span>,</span>
<span>                      expand_to <span class="op">=</span> <span class="st">"sentence"</span>,</span>
<span>                      plus <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                      minus <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span></span>
<span><span class="va">expand</span><span class="op">$</span><span class="va">expanded</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; [1] "No main effects or interactions with time were found (p &gt; .29), which indicates that the action-specific effects of TMS on confidence are not specific to its delivery before or after a perceptual decision."</span></span></code></pre>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Lisa DeBruine, Daniel Lakens.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
